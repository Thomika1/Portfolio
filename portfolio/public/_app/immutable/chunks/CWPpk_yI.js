import{a as H,W as G,h as A,X as k,Y as J,U as Q,n as U,Z as j,_ as ee,$ as Y,a0 as F,e as x,a1 as re,a2 as ne,a3 as B,c as ae,a4 as y,b as O,s as se,y as fe,a5 as ie,a6 as z,a7 as te,a8 as le,a9 as ue,aa as V,ab as oe,r as q,p as K,ac as L,ad as ce,ae as ve,d as pe,af as de,ag as ge,ah as _e,ai as he}from"./CP6BfUbc.js";function Ie(e,n){return n}function Ee(e,n,r){for(var f=[],l=n.length,u,t=n.length,s=0;s<l;s++){let o=n[s];K(o,()=>{if(u){if(u.pending.delete(o),u.done.add(o),u.pending.size===0){var p=e.outrogroups;D(z(u.done)),p.delete(u),p.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var c=f.length===0&&r!==null;if(c){var i=r,v=i.parentNode;ve(v),v.append(i),e.items.clear()}D(n,!c)}else u={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(u)}function D(e,n=!0){for(var r=0;r<e.length;r++)pe(e[r],n)}var X;function Me(e,n,r,f,l,u=null){var t=e,s=new Map;{var c=e;t=A?k(J(c)):c.appendChild(H())}A&&Q();var i=null,v=fe(()=>{var d=r();return ie(d)?d:d==null?[]:z(d)}),o,p=!0;function w(){h.fallback=i,Ae(h,o,t,n,f),i!==null&&(o.length===0?(i.f&y)===0?q(i):(i.f^=y,R(i,null,t)):K(i,()=>{i=null}))}var a=G(()=>{o=U(v);var d=o.length;let N=!1;if(A){var _=j(t)===ee;_!==(d===0)&&(t=Y(),k(t),F(!1),N=!0)}for(var C=new Set,T=ae,S=se(),b=0;b<d;b+=1){A&&x.nodeType===re&&x.data===ne&&(t=x,N=!0,F(!1));var I=o[b],g=f(I,b),E=p?null:s.get(g);E?(E.v&&B(E.v,I),E.i&&B(E.i,b),S&&T.unskip_effect(E.e)):(E=Ne(s,p?t:X??=H(),I,g,b,l,n,r),p||(E.e.f|=y),s.set(g,E)),C.add(g)}if(d===0&&u&&!i&&(p?i=O(()=>u(t)):(i=O(()=>u(X??=H())),i.f|=y)),A&&d>0&&k(Y()),!p)if(S){for(const[W,Z]of s)C.has(W)||T.skip_effect(Z.e);T.oncommit(w),T.ondiscard(()=>{})}else w();N&&F(!0),U(v)}),h={effect:a,items:s,outrogroups:null,fallback:i};p=!1,A&&(t=x)}function M(e){for(;e!==null&&(e.f&ce)===0;)e=e.next;return e}function Ae(e,n,r,f,l){var u=n.length,t=e.items,s=M(e.effect.first),c,i=null,v=[],o=[],p,w,a,h;for(h=0;h<u;h+=1){if(p=n[h],w=l(p,h),a=t.get(w).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(a),g.done.delete(a);if((a.f&y)!==0)if(a.f^=y,a===s)R(a,null,r);else{var d=i?i.next:s;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),m(e,i,a),m(e,a,d),R(a,d,r),i=a,v=[],o=[],s=M(i.next);continue}if((a.f&L)!==0&&q(a),a!==s){if(c!==void 0&&c.has(a)){if(v.length<o.length){var N=o[0],_;i=N.prev;var C=v[0],T=v[v.length-1];for(_=0;_<v.length;_+=1)R(v[_],N,r);for(_=0;_<o.length;_+=1)c.delete(o[_]);m(e,C.prev,T.next),m(e,i,C),m(e,T,N),s=N,i=T,h-=1,v=[],o=[]}else c.delete(a),R(a,s,r),m(e,a.prev,a.next),m(e,a,i===null?e.effect.first:i.next),m(e,i,a),i=a;continue}for(v=[],o=[];s!==null&&s!==a;)(c??=new Set).add(s),o.push(s),s=M(s.next);if(s===null)continue}(a.f&y)===0&&v.push(a),i=a,s=M(a.next)}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(D(z(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||c!==void 0){var S=[];if(c!==void 0)for(a of c)(a.f&L)===0&&S.push(a);for(;s!==null;)(s.f&L)===0&&s!==e.fallback&&S.push(s),s=M(s.next);var b=S.length;if(b>0){var I=u===0?r:null;Ee(e,S,I)}}}function Ne(e,n,r,f,l,u,t,s){var c=(t&te)!==0?(t&le)===0?ue(r,!1,!1):V(r):null,i=(t&oe)!==0?V(l):null;return{v:c,i,e:O(()=>(u(n,c??r,i??l,s),()=>{e.delete(f)}))}}function R(e,n,r){if(e.nodes)for(var f=e.nodes.start,l=e.nodes.end,u=n&&(n.f&y)===0?n.nodes.start:r;f!==null;){var t=de(f);if(u.before(f),f===l)return;f=t}}function m(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}function P(e){var n,r,f="";if(typeof e=="string"||typeof e=="number")f+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(r=P(e[n]))&&(f&&(f+=" "),f+=r)}else for(r in e)e[r]&&(f&&(f+=" "),f+=r);return f}function Te(){for(var e,n,r=0,f="",l=arguments.length;r<l;r++)(e=arguments[r])&&(n=P(e))&&(f&&(f+=" "),f+=n);return f}function Re(e){return typeof e=="object"?Te(e):e??""}function be(e,n,r){var f=e==null?"":""+e;return f===""?null:f}function xe(e,n,r,f,l,u){var t=e.__className;if(A||t!==r||t===void 0){var s=be(r);(!A||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=r}return u}const me=Symbol("is custom element"),ye=Symbol("is html");function He(e,n,r,f){var l=Se(e);A&&(l[n]=e.getAttribute(n),e.nodeName==="LINK")||l[n]!==(l[n]=r)&&(r==null?e.removeAttribute(n):typeof r!="string"&&we(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function Se(e){return e.__attributes??={[me]:e.nodeName.includes("-"),[ye]:e.namespaceURI===ge}}var $=new Map;function we(e){var n=e.getAttribute("is")||e.nodeName,r=$.get(n);if(r)return r;$.set(n,r=[]);for(var f,l=e,u=Element.prototype;u!==l;){f=he(l);for(var t in f)f[t].set&&r.push(t);l=_e(l)}return r}export{xe as a,Re as c,Me as e,Ie as i,He as s};
